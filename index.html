<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BORANG TEMPAHAN BILIK KHAS SK CLIFFORD 2026</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 15px; background: #f0f2f5; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 500px; margin: auto; }
        h2 { text-align: center; color: #1a73e8; font-size: 1.2em; text-transform: uppercase; line-height: 1.4; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 13px; color: #444; }
        select, input { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #dadce0; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        .status-box { padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 14px; display: none; line-height: 1.5; border-left: 6px solid; }
        .occupied { background: #fff3cd; border-color: #ffc107; color: #856404; }
        .available { background: #d4edda; border-color: #28a745; color: #155724; }
        button { width: 100%; padding: 15px; background: #1a73e8; color: white; border: none; border-radius: 8px; margin-top: 25px; cursor: pointer; font-weight: bold; font-size: 16px; }
    </style>
</head>
<body>

<div class="card">
    <h2>BORANG TEMPAHAN BILIK KHAS<br>SK CLIFFORD 2026</h2>
    
    <form id="tempahanForm">
        <label>Pilih Bilik:</label>
        <select id="bilik" onchange="semakJadual()" required>
            <option value="">-- Pilih Bilik --</option>
            <option value="Makmal Komputer">Makmal Komputer</option>
            <option value="Pusat Sumber">Pusat Sumber (PSS)</option>
        </select>

        <label>Tarikh Penggunaan:</label>
        <input type="date" id="tarikh" onchange="semakJadual()" required>

        <label>Pilih Waktu (Slot):</label>
        <select id="slot" onchange="semakJadual()" required>
            <option value="">-- Pilih Slot --</option>
            <option value="1">Waktu 1</option><option value="2">Waktu 2</option>
            <option value="3">Waktu 3</option><option value="4">Waktu 4</option>
            <option value="5">Waktu 5</option><option value="6">Waktu 6</option>
            <option value="7">Waktu 7</option><option value="8">Waktu 8</option>
            <option value="9">Waktu 9</option><option value="10">Waktu 10</option>
            <option value="11">Waktu 11</option><option value="12">Waktu 12</option>
        </select>

        <div id="infoBox" class="status-box"></div>

        <label>Nama Guru:</label>
        <input type="text" id="namaGuru" placeholder="Nama anda" required>

        <label>Tujuan / Kelas:</label>
        <input type="text" id="tujuan" placeholder="Cth: PdPC Sains 5K" required>

        <button type="button" onclick="hantar()">HANTAR TEMPAHAN</button>
    </form>
</div>

<script>
    const jadualBM = { // GENAP
        "Isnin": {5:"3A", 6:"3A", 7:"1A", 8:"1A", 10:"4A", 11:"4A"},
        "Selasa": {1:"6E", 2:"6E", 6:"4K", 7:"4K", 9:"6K", 10:"6K", 11:"6A", 12:"6A"},
        "Rabu": {1:"4E", 2:"4E", 3:"2A", 4:"2A", 5:"3K", 6:"3K", 7:"5A", 8:"5A", 9:"1E", 10:"1E"},
        "Khamis": {1:"2E", 2:"2E", 5:"1K", 6:"1K", 10:"5E", 11:"5E"},
        "Jumaat": {3:"2K", 4:"2K", 5:"3E", 6:"3E", 7:"5K", 8:"5K"}
    };

    const jadualBI = { // GANJIL
        "Isnin": {4:"5K", 5:"5K", 8:"2E", 9:"2E", 10:"2A", 11:"2A"},
        "Selasa": {2:"4K", 3:"4K", 5:"1A", 6:"1A", 7:"6K", 8:"6K", 10:"3E", 11:"3E"},
        "Rabu": {4:"5A", 5:"5A", 6:"4E", 7:"4E", 9:"3K", 10:"3K"},
        "Khamis": {3:"4A", 4:"4A", 5:"3A", 6:"3A", 7:"5E", 8:"5E", 9:"1K", 10:"1K"},
        "Jumaat": {2:"6A", 3:"6A", 4:"6E", 5:"6E", 6:"2K", 7:"2K", 8:"1E", 9:"1E"}
    };

    function semakJadual() {
        const bilik = document.getElementById('bilik').value;
        const tarikh = document.getElementById('tarikh').value;
        const slot = document.getElementById('slot').value;
        const infoBox = document.getElementById('infoBox');

        if (!bilik || !tarikh || !slot) { infoBox.style.display = "none"; return; }

        const d = new Date(tarikh);
        const hariArr = ["Ahad", "Isnin", "Selasa", "Rabu", "Khamis", "Jumaat", "Sabtu"];
        const hari = hariArr[d.getDay()];
        const mula = new Date("2026-01-12");
        const minggu = Math.floor((d - mula) / (7 * 24 * 60 * 60 * 1000)) + 1;

        let kelasInfo = (minggu % 2 !== 0) ? 
            (jadualBI[hari] ? jadualBI[hari][slot] : null) : 
            (jadualBM[hari] ? jadualBM[hari][slot] : null);

        infoBox.style.display = "block";
        if (kelasInfo) {
            infoBox.className = "status-box occupied";
            infoBox.innerHTML = `⚠️ <b>AMARAN:</b> Slot Waktu ${slot} hari ${hari} (Minggu ${minggu}) diisi oleh <b>Kelas ${kelasInfo} (NILAM)</b>.`;
        } else {
            infoBox.className = "status-box available";
            infoBox.innerHTML = `✅ Slot Waktu ${slot} hari ${hari} tersedia.`;
        }
    }

    function hantar() {
        alert("Tempahan anda telah direkodkan. Terima Kasih");
        document.getElementById('tempahanForm').reset();
        document.getElementById('infoBox').style.display = "none";
    }
</script>
</body>
</html>